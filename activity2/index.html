<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>Activity 2: jQuery + AJAX request + DOM manipulation</title>
</head>

<body>
    <h1>Activity 2: jQuery + AJAX request + DOM manipulation</h1>
    <p>With JQuery load de data on the sibling file employees.json and build a table showing the data:</p>



    <div id="table-container">



    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {

            var content = document.querySelector('#table-container');
            var table = document.createElement('table');
            
            table.classList.add('table', 'table-bordered', 'table-hover', 'border-dark', 'text-center', 'w-50');
            content.appendChild(table);


            $.ajax({

                url: 'employees.json',
                method: 'post',
                dataType: 'json',

                success: data => {

                  let alldatakeys = Object.keys(data[0]);

                  table.innerHTML += `
                    
                        <tr>
                        <th>` + alldatakeys[0].toUpperCase() + `</td>
                        <th>` + alldatakeys[1].toUpperCase() + `</td>
                        <th>` + alldatakeys[2].toUpperCase() + `</td>
                        </tr>

                        `

                    for (let valor of data) {


                        table.innerHTML += `
                    
                        <tr>
                        <td>` + valor.id + `</td>
                        <td>` + valor.name + `</td>
                        <td>` + valor.department + `</td>
                        </tr>

                        `

                    }

                }

            });

        })
    </script>
</body>

</html>